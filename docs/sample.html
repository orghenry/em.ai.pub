<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Markmap Example</title>
  <!-- Load D3.js -->
  <script src="https://cdn.jsdelivr.net/npm/d3@7"></script>
  <!-- Load Markmap libraries -->
  <script src="https://cdn.jsdelivr.net/npm/markmap-lib"></script>
  <script src="https://cdn.jsdelivr.net/npm/markmap-view"></script>
</head>
<body>
  <!-- Markdown content -->
  <textarea id="mm" style="display:none;">
# Markmap Example

## Features
- Interactive mindmaps
- Easy to use
- Supports Markdown

## Usage
1. Write Markdown
2. Visualize as a mindmap
3. Share with others
  </textarea>

  <!-- SVG container for the mindmap -->
  <svg id="mindmap" style="width: 100%; height: 600px;"></svg>

  <script>
    // Ensure markmap is properly loaded
    const { Markmap, loadCSS, loadJS } = window.markmap;
    const { Transformer } = window.markmap;

    // Get Markdown content from textarea
    const markdown = document.getElementById("mm").value;

    // Transform Markdown into a tree structure using markmap-lib
    const transformer = new Transformer();
    const { root } = transformer.transform(markdown);

    // Select the SVG element and render the mindmap
    const svg = document.querySelector("#mindmap");
    Markmap.create(svg, null, root);
  </script>
</body>
</html>
